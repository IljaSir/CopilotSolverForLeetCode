Synthesizing 10/10 solutions (Duplicates hidden)

=======

        loop {
            let x = rand7();
            let y = rand7();
            let idx = x + (y - 1) * 7;
            if idx <= 40 {
                return 1 + (idx - 1) % 10;
            }
        }

=======

        
    }
}

=======

        let mut r = 40;
        while r >= 40 {
            r = (rand7() - 1) * 7 + (rand7() - 1);
        }
        r % 10 + 1

=======

        loop {
            let x = rand7();
            let y = rand7();
            let res = x + (y - 1) * 7;
            if res <= 40 {
                return res % 10 + 1;
            }
        }

=======

        let mut x = 0;
        let mut y = 0;
        let mut idx = 0;
        while idx == 0 {
            x = rand7();
            y = rand7();
            idx = (x - 1) * 7 + y;
        }
        return 1 + (idx - 1) % 10;

=======

        let mut a = 0;
        let mut b = 0;
        let mut idx = 0;
        while idx == 0 {
            a = rand7();
            b = rand7();
            idx = (a-1) * 7 + b;
        }
        return (idx - 1) % 10 + 1;
