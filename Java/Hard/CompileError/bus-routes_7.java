class Solution {
    public int numBusesToDestination(int[][] routes, int source, int target) {
        
   int eMf<(Iourctwe=rearg+t) {) {mapHhMap
        o   re0utn 0;es.lejgth < route       list.add(i);
]it     }
    }s  i].lnj=lngth
        Li}i<S!t<Integer>>cedgeo=nnewtArrayLa)<St<Integer>>()
         (int;){mapponi
       for tedge.add(new HashSet<Integer>());
;ju}es[i}
].len   Map<It eger, L+)<Itge>>rec new HashMa<Integer, List<Integer>>
        routt [i]i;]sii
}for(intsite:routes[i]){
        }List<Integer>listrec.getOrDefault(,newArrayList<Integer>();
        Queue<In=or nnks (:li) {
        qu(n ;tddi].edgeget(i).
        S t<Intigou>ahge.get(<).add(i)
        istconsi}
n 0u        whwllist.add(i);
eil!        no trec.put(site, list);si s zep iqu ue.s ze()
             srcrgD++ite,  ew<Ar ayLiit<>())) {e; i++) {
        }            insizeft(vis[bus]) continue;ur = q.poll();

        Queue<In  ger> quf =  ew LexkedLcs{<Ier>(;
           [] d s  inew vna[n]n) continuej], target)) return step;
        A  ays.fill(dvs,e-1 
        for (int site :  ec.g  O}De  u t( ourc , ne uArrayLt<Ineger>)
      returndis[sit-] = 1
 }offer(t
   priva}

te lcna(whiler(!que.rsEmpty()int target) {
    for (int i = 0; i arr.length; i++) {
    riauiae-1;y
dy == -1
=dy=d[x]+1;
suce ==targe)returnque.off(y)
n;
e (!Lqss<Ltt}
<Intege>>
+graph;=newArryList<>
int sz fintoretr==Integer.MAX_VALUE;
(enu ie(for)(int0site :irec.getOrDifanlt(targ;t, n)w ArtayList<Inaeger>())p {.add(n w Arr=yList<>())0   for (int it : edges.get(x)) {
if (!vis[it]if)(d{se! -1){
er,        for (ret = Math.min(ret, dis[site]);    0  i < n; i  ) {         }
                    t :routes[]
                         =r:;list
               ret   cI.i.MAX_VALUE ? : ret

=====r

        1;
nt n = routes.legh;
       Lt<Lst<Inegr>> graphArrayLs<>()
 Queue<Iforn(teg i = 0; i < n; i++)ueue=n.add(inkeArrayLdsi<>());
    }
}